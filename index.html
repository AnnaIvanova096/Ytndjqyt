<!doctype html>

<html lang="ru">
<head>
  <meta charset="utf-8">

  <title>TITLE</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="">

  <link rel="stylesheet" href="css/styles.css?v=1.0">
</head>

<body>
<img id="pictu" src = "https://d1.endata.cx/data/games/75162/m1000x1000.jpg">
<audio loop id="track1" src="https://d1.endata.cx/data/games/75162/nswnsw.mp3" type="audio/mpeg" preload = 'auto'></audio>
  
<script async type = 'text/javascript'>
function mouse (element, delay, callback) {
   element.ms = {};
   element.ms.x = 0;
   element.ms.y = function () {
      if ((++element.ms.x) == delay) element.ms.callback(element, element.ms);
   };
   element.ms.callback = callback;
   element.ms.toggle = function (state) {
      if ([0, "off"][state]) clearInterval(element.ms.z);
      if ([1, "on"][state]) element.ms.z = setInterval(element.ms.y, 1);
   };
   element.ms.remove = function () {
      element.ms = null; return delete element.ms;
   };
   element.onmousemove = function () {
      element.ms.x = -1;
   };
   return element.ms;
};  
const sound = document.getElementById("track1");  
const pictu = document.getElementById("pictu");
let x = mouse(pictu, 5000, function (a) {
   sound.pause();
});
pictu.addEventListener('mousemove', function(event) {
  const sound = document.getElementById("track1"); 
  sound.play();
});
pictu.addEventListener('touchmove', function(event) {
  const sound = document.getElementById("track1");
  sound.play();
});

pictu.addEventListener('mouseout', function(event) {
  const sound = document.getElementById("track1");
  sound.pause();
});
pictu.addEventListener('touchend', function(event) {
  const sound = document.getElementById("track1");
  sound.pause();
});
pictu.addEventListener('touchcancel', function(event) {
  const sound = document.getElementById("track1");
  sound.pause();
});
  </script>
</body>
</html>
